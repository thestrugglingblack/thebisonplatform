FROM openjdk:17-ea-3-jdk-buster
ADD shinyproxy-3.1.1.jar /opt/shinyproxy/shinyproxy.jar
ADD application.yml /opt/shinyproxy/application.yml
WORKDIR /opt/shinyproxy
EXPOSE 8080

#ARG TBP_COGNITO_CLIENT_ID
#ARG TBP_COGNITO_CLIENT_SECRET
#ARG TBP_COGNITO_PREFIX_DOMAIN
#ARG TBP_COGNITO_USER_POOL_ID
#
#ENV TBP_COGNITO_CLIENT_ID=${TBP_COGNITO_CLIENT_ID}
#ENV TBP_COGNITO_CLIENT_SECRET=${TBP_COGNITO_CLIENT_SECRET}
#ENV TBP_COGNITO_PREFIX_DOMAIN=${TBP_COGNITO_PREFIX_DOMAIN}
#ENV TBP_COGNITO_USER_POOL_ID=${TBP_COGNITO_USER_POOL_ID}

CMD ["java", "-jar", "shinyproxy.jar"]